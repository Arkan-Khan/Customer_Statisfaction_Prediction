<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Training and Dataset Summary Statistics</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 20px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); color: #2c3e50;">
    <div style="max-width: 1400px; margin: 0 auto; background-color: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 40px;">
        <h1 style="text-align: center; color: #2c3e50; margin-bottom: 30px; font-size: 32px; border-bottom: 2px solid #3498db; padding-bottom: 10px;">Model Training and Dataset Summary Statistics</h1>

        <section style="margin-bottom: 40px;">
            <h2 style="color: #2c3e50; font-size: 24px; margin-bottom: 20px;">Model Training Statistics</h2>
            <div style="overflow-x: auto;">
                <table style="width: 100%; border-collapse: collapse; background-color: white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-radius: 10px;">
                    <thead>
                        <tr style="background: linear-gradient(to right, #3498db, #2980b9); color: white;">
                            <th style="padding: 15px; text-align: left;">Model</th>
                            <th style="padding: 15px; text-align: center;">MSE</th>
                            <th style="padding: 15px; text-align: center;">RÂ²</th>
                            <th style="padding: 15px; text-align: center;">MAE</th>
                            <th style="padding: 15px; text-align: center;">Accuracy (%)</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for model, metrics in model_stats.items() %}
                        <tr style="border-bottom: 1px solid #ecf0f1;">
                            <td style="padding: 15px; font-weight: 600;">{{ model }}</td>
                            <td style="padding: 15px; text-align: center;">{{ metrics.MSE }}</td>
                            <td style="padding: 15px; text-align: center;">{{ metrics.R2 }}</td>
                            <td style="padding: 15px; text-align: center;">{{ metrics.MAE }}</td>
                            <td style="padding: 15px; text-align: center;">{{ metrics['Accuracy (%)'] }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </section>

        <section style="margin-bottom: 40px;">
            <h2 style="color: #2c3e50; font-size: 24px; margin-bottom: 20px;">Dataset Summary Statistics</h2>
            
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 30px;">
                <!-- Grid Items 1-4 -->
                <div style="background-color: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); padding: 20px;">
                    <h3 style="color: #2c3e50; font-size: 20px; margin-bottom: 15px;">Gender Distribution</h3>
                    <div style="height: 250px; display: flex; justify-content: center; align-items: center;">
                        <img src="{{ url_for('static', filename='gender_distribution.png') }}" alt="Gender Distribution" style="max-width: 100%; max-height: 250px; object-fit: contain; border-radius: 8px;" />
                    </div>
                </div>
                
                <div style="background-color: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); padding: 20px;">
                    <h3 style="color: #2c3e50; font-size: 20px; margin-bottom: 15px;">Visits With Family</h3>
                    <div style="height: 250px; display: flex; justify-content: center; align-items: center;">
                        <img src="{{ url_for('static', filename='family_visit_distribution.png') }}" alt="Visits With Family" style="max-width: 100%; max-height: 250px; object-fit: contain; border-radius: 8px;" />
                    </div>
                </div>
                
                <div style="background-color: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); padding: 20px;">
                    <h3 style="color: #2c3e50; font-size: 20px; margin-bottom: 15px;">Reasons to Visit</h3>
                    <div style="height: 250px; display: flex; justify-content: center; align-items: center;">
                        <img src="{{ url_for('static', filename='reason_distribution.png') }}" alt="Reasons to Visit" style="max-width: 100%; max-height: 250px; object-fit: contain; border-radius: 8px;" />
                    </div>
                </div>
                
                <div style="background-color: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); padding: 20px;">
                    <h3 style="color: #2c3e50; font-size: 20px; margin-bottom: 15px;">Room Type Distribution</h3>
                    <div style="height: 250px; display: flex; justify-content: center; align-items: center;">
                        <img src="{{ url_for('static', filename='room_type_distribution.png') }}" alt="Room Type Distribution" style="max-width: 100%; max-height: 250px; object-fit: contain; border-radius: 8px;" />
                    </div>
                </div>
            </div>
            
            <!-- Grid Item 5 - Full Width -->
            <div style="margin-top: 30px; background-color: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); padding: 20px; grid-column: 1 / -1;">
                <h3 style="color: #2c3e50; font-size: 20px; margin-bottom: 15px;">Ratings Distribution</h3>
                <div style="height: 400px; display: flex; justify-content: center; align-items: center;">
                    <img src="{{ url_for('static', filename='ratings_distribution.png') }}" alt="Ratings Distribution" style="max-width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px;" />
                </div>
            </div>
        </section>

        <a href="/" style="display: block; text-align: center; text-decoration: none;">
            <button style="background: linear-gradient(to right, #3498db, #2980b9); color: white; padding: 15px 30px; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; transition: transform 0.2s; font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">Back to Prediction Form</button>
        </a>
    </div>

    <script>
        document.querySelector('button').addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-2px)';
        });
        document.querySelector('button').addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    </script>
</body>
</html>